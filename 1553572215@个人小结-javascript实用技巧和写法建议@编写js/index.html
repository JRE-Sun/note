
<!DOCTYPE html>
<html>
  <!-- OriginalSrc: https://segmentfault.com/a/1190000011031658 -->
  <head>
    <meta http-equiv="Content-Type" content="text/html"; charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>个人小结--javascript实用技巧和写法建议@编写js</title>
    
<link rel="stylesheet" href="assets/1553572215-04b7a1551b9ea68bcf94f9ecf05846d5.css">

<link rel="stylesheet" href="assets/1553572215-1bfac5bfd1d0b194dacc6adc89cc954a.css">

<link rel="stylesheet" href="assets/1553572215-c86b6210e40f2befcca430cc00577148.css">
<style>

html.cye-enabled.cye-nm:not(*:-webkit-full-screen) body,
 html.cye-enabled.cye-nm:not(*:-webkit-full-screen) #cye-workaround-body {-webkit-filter:contrast(91%) brightness(84%) invert(1);}
</style>
<style>
html.cye-enabled.cye-lm body{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}
</style>
<style>
html.cye-enabled.cye-lm div{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}
</style>
<style>
html.cye-enabled.cye-lm th{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}html.cye-enabled.cye-lm td{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}
</style>
<style>
html.cye-enabled.cye-lm input[type=text]{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}html.cye-enabled.cye-lm textarea{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}
</style>
<style>
html.cye-enabled.cye-lm select{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}
</style>
<style>
html.cye-enabled.cye-lm ul{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}
</style>
<style>
html.cye-enabled.cye-lm .cye-lm-tag,html.cye-enabled.cye-lm.cye-lm-tag{background-color:#cce8cf !important;border-color:rgb(51, 58, 51) !important;background-image:none !important;color:#000000  !important}
</style>
<style>

</style>
<style>

</style>
<style>
object,embed{                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;                -o-animation-duration:.001s;-o-animation-name:playerInserted;                animation-duration:.001s;animation-name:playerInserted;}                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}
</style>
<style>
.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}

</style>
<style>
#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}

</style>
<style>
#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}

</style>
<style>
#rwl-iqxin{position:fixed;transform:translate(-90px,0);width:85px;height:25px;font-size:12px;font-weight: 500;font-family:Verdana, Arial, '宋体';color:#fff;background:#333;z-index:2147483647;margin: 0;opacity:0.05;transition:0.3s;overflow:hidden;user-select:none;text-align:center;white-space:nowrap;line-height:25px;padding:0 16px;border:1px solid #ccc;border-width:1px 1px 1px 0;border-bottom-right-radius:5px;box-sizing: content-box;}#rwl-iqxin input{margin: 0;padding: 0;vertical-align:middle;-webkit-appearance:checkbox;-moz-appearance:checkbox;position: static;clip: auto;opacity: 1;cursor: pointer;}#rwl-iqxin.rwl-active-iqxin{left: 0px;transform:translate(0,0);opacity: 0.9;height: 32px;line-height: 32px}#rwl-iqxin label{margin:0;padding:0;font-weight:500;}#rwl-iqxin button{margin: 0;padding: 0 2px;border: none;border-radius: 2px;cursor: pointer;}#rwl-setMenu{text-align:left;font-size:14px;z-index:999999;border: 1px solid cornflowerblue;}#rwl-setMenu p{margin:5px auto;} 
</style>
<style>

                                    @media (max-width: 1200px) {
                                        .trialCenter-wrapper {
                                            display: none !important;
                                        }
                                    }
                                
</style>
<style>

                    .job-recommend-area a:not(:last-of-type) {margin-bottom:10px; display: block}
                    .job-recommend-area a:hover {text-decoration: none;}
                
</style>
<style>

                    .job-recommend {margin-bottom: 30px;}
                    .job-title {
                        font-size: 14px;
                        color: #017E66;
                        font-weight: 500;
                        background: #BFE6D7;
                        margin: 0;
                        padding-top: 6px;
                        padding-bottom: 6px;
                        text-align: center;
                    }
                    .job-recommend-area {
                      padding: 13px;
                      border: 3px solid #EBF7F3;
                      border-top: none;
                    }
                    
</style>
<style>
#leftdiv,#rightdiv,#stickey_footer,#top_box,.ershiba,.recommend-box,.floatBottom img,.ad_float_left,body .img,.side-widget,.blog-post  .row .side,.content__tech{display:none!important;}<br>.box.pic_text img,#wp img,#postlist img{max-height: 400px;width: auto;}<br>.post-topheader__info--title{text-align: center;}<br>.blog-post  .row .main,.container.main-container .container,.main-area.article-area{width: 100%;max-width: 100%;}<br><br>#juejin .container{max-width:1140px;}<br><br>.container.main-container .sidebar,.container.main-container .article-suspended-panel,.global-component-box .suspension-panel{display:none!important;}
</style>

    <style class="mx-wc-style">
      .mx-wc-main img {max-width: 100%;}
      .mx-wc-main{
        box-sizing: content-box;
        background-color: rgb(255, 255, 255) !important;
        margin: 0 auto;
        max-width: 1140px;
        padding: 15px 15px 80px 15px;
      }

      .clipping-information{
        text-align: left;
        margin-top: 20px;
        background-color: #eeeeee !important;
        padding: 15px;
        border-radius: 4px;
        color: #333;
        font-size: 14px !important;
        line-height: 22px !important;
      }
      .clipping-information a {
        color: blue !important;
        text-decoration: underline !important;
      }
      .clipping-information label {
        display: inline;
        text-transform: none;
      }
      .clipping-information label > code {
        padding: 2px 8px;
        background-color: rgba(200, 200, 200, 0.7)!important;
        font-size: 14px;
      }

    </style>
  </head>
  <body style="background-color: #464646 !important; min-height: 100%; height: auto;" id="" class="blog-post ">
    <div class="mx-wc-main">
      <DIV class="wrap" data-blogid="1200000009765005" style="display: block; float: none; position: relative; top: 0; left: 0; border: 0px; width: 100%; min-width:100%; max-width: 100%; min-height: auto; max-height: 100%; height: auto; padding: 0px; margin: 0px;"><div class="container mt15 mx-wc-selected-elem" style="float: none; position: relative; top: 0px; left: 0px; margin: 0px; flex: unset; width: 100%; max-width: 100%; box-sizing: border-box;">
        <div class="row">
            <div class="col-xs-12 col-md-9 main ">
                                <ol class="breadcrumb mb15">
                    <li><a href="https://segmentfault.com/blogs">专栏</a></li>
                                        <li><a href="https://segmentfault.com/blog/weblive">守候书阁</a></li>
                                        <li class="active">文章详情</li>
                </ol>
                                <div class="post-topheader custom- pt0">
                    <div class="mb20">
                        <div class="block-for-right-border">
                            <div class="row">
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                

                                    <div class="post-topheader__info" data-username="守候" data-userslug="chen93" data-useravatar="https://avatar-static.segmentfault.com/219/282/2192820553-593febf9e2341_big64">


                                        <div class="article__author clearfix">
                                            <div class="article__authorleft">
                                                <a href="https://segmentfault.com/u/chen93">
                                                    <img class="avatar-40" src="assets/1553572215-87f8f4708e0c32d0e175a1e5c9c295ba" alt="守候">
                                                </a>
                                            </div>
                                            <div class="article__authorright">
                                                <div class="article__authormeta">
                                                <a href="https://segmentfault.com/u/chen93" class="mr5"><strong>守候</strong></a>
                                        
                                                
                                                                                                <img src="assets/1553572215-931d92cf7ef28749ea3dfbf0af6a2563.svg" class="mr5"><span style="color:#BF7158" class="mr10">17.1k</span>

                                                                                                发布于
                                                <a href="https://segmentfault.com/blog/weblive">守候书阁</a>
                                                
                                                
                                                <span class="hidden-xs">
                                                                                                                                                          <button type="button" class="btn btn-xs btn-success follow-article ml10" data-do="follow" data-type="blog" data-id="1200000009765005">关注专栏
                                                       </button>
                                                                                                                                                   </span>
                                                </div>
                                                
                                                <span style="display: block">
                                                    2017-09-06 发布
                                                </span>
                                            </div>
                                        </div>

                                        <h1 class="h1 post-topheader__info--title" id="articleTitle" data-id="1190000011031658">
                                            <a href="https://segmentfault.com/a/1190000011031658"> 个人小结--javascript实用技巧和写法建议</a>
                                        </h1>

                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- end .post-topheader -->

                <div class="visible-lg">
                    
                </div>

                
                <div class="article fmt article__content" data-id="1190000011031658" data-license="cc">
                    
<h2 id="articleHeader0">1.前言</h2>
<p>从大学到现在，接触前端已经有几年了，感想方面，就是对于程序员而言，想要提高自己的技术水平和编写易于阅读和维护的代码，我觉得不能每天都是平庸的写代码，更要去推敲，去摸索和优化代码，总结当中的技巧，积极听取别人的建议，这样自己的技术水平会提高的更快。那么今天，我在这里就分享一下关于javascript方面的写作的实用技巧和建议，这些技巧和建议是我平常在开发项目上会用到的，希望能让大家学到知识，更希望能起到一个交流意见的作用，也就是说大家有什么好的技巧或者建议，欢迎分享，或者觉得我的想法存在什么问题，欢迎指出!</p>
<h2 id="articleHeader1">2.更短的数组去重写法</h2>
<pre class="hljs dart"><code>[...<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">2</span>,<span class="hljs-string">"12"</span>,<span class="hljs-number">2</span>,<span class="hljs-number">12</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">6</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>,<span class="hljs-number">6</span>])]
<span class="hljs-comment">//[2, "12", 12, 1, 6, 13]</span>
<span class="hljs-comment">//es6的新特性</span>
</code></pre>
<h2 id="articleHeader2">3.对象深浅拷贝</h2>
<p>关于对象的深浅拷贝，我个人见解就是有一下几点：</p>
<p>1.深拷贝和浅拷贝只针对像Object, Array这样的引用类型数据。</p>
<p>2.浅拷贝是对对象引用地址进行拷贝，并没有开辟新的栈，也就是拷贝后的结果是两个对象指向同一个引用地址，修改其中一个对象的属性，则另一个对象的属性也会改变。</p>
<p>3.深拷贝则是开启一个新的栈，两个对象对应两个不同的引用地址，修改一个对象的属性，不会改变另一个对象的属性。</p>
<h3 id="articleHeader3">浅拷贝</h3>
<pre class="hljs groovy"><code>var myInfo={<span class="hljs-string">name:</span><span class="hljs-string">'守候'</span>,<span class="hljs-string">sex:</span><span class="hljs-string">'男'</span>};
</code></pre>
<p><span class="img-wrap"><img data-src="/img/bVTNba?w=803&amp;h=98" src="assets/1553572215-eb9b3930663da19d0506bd8a36b5827a" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<pre class="hljs scala"><code>
<span class="hljs-keyword">var</span> newInfo=myInfo;
</code></pre>
<p><span class="img-wrap"><img data-src="/img/bVTNeh?w=823&amp;h=153" src="assets/1553572215-12154efb6158224be4c1de635e91d8b6" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<pre class="hljs objectivec"><code>
newInfo.sex=<span class="hljs-string">'女'</span>;
</code></pre>
<p><span class="img-wrap"><img data-src="/img/bVTNel?w=818&amp;h=160" src="assets/1553572215-8141cb5804289e3c8f4c2ce7c226462a" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<pre class="hljs lua"><code>console.<span class="hljs-built_in">log</span>(myInfo)   //{name: <span class="hljs-string">"守候"</span>, sex: <span class="hljs-string">"女"</span>}
</code></pre>
<h3 id="articleHeader4">假-深拷贝</h3>
<p>假-深拷贝这个是自己随性命名的，大家看看就好，别当真！</p>
<pre class="hljs groovy"><code style="word-break: break-word; white-space: initial;">var myInfo={<span class="hljs-string">name:</span><span class="hljs-string">'守候'</span>,<span class="hljs-string">sex:</span><span class="hljs-string">'男'</span>}; </code></pre>
<p><span class="img-wrap"><img data-src="/img/bVTNba?w=803&amp;h=98" src="assets/1553572215-eb9b3930663da19d0506bd8a36b5827a" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<pre class="hljs typescript"><code style="word-break: break-word; white-space: initial;"><span class="hljs-keyword">var</span> newInfo=<span class="hljs-built_in">Object</span>.assign({},myInfo)</code></pre>
<p><span class="img-wrap"><img data-src="/img/bVTNbI?w=823&amp;h=145" src="assets/1553572215-8762d7bb7271da61f6ac6c357598fee4" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<pre class="hljs objectivec"><code style="word-break: break-word; white-space: initial;">newInfo.sex=<span class="hljs-string">'女'</span>;</code></pre>
<p><span class="img-wrap"><img data-src="/img/bVTNbP?w=809&amp;h=135" src="assets/1553572215-260ebd6c0eb52463d7b3ff369e971205" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<pre class="hljs lua"><code>console.<span class="hljs-built_in">log</span>(myInfo)   //{name: <span class="hljs-string">"守候"</span>, sex: <span class="hljs-string">"男"</span>}
console.<span class="hljs-built_in">log</span>(newInfo)   //{name: <span class="hljs-string">"守候"</span>, sex: <span class="hljs-string">"女"</span>}
</code></pre>
<h3 id="articleHeader5">真-深拷贝</h3>
<p>真-深拷贝这个是自己随性命名的，大家看看就好，别当真！</p>
<p>看着深浅拷贝，区别写法很简单，但是那个上面的深拷贝写法是有问题的。看下面案例</p>
<pre class="hljs typescript"><code><span class="hljs-keyword">var</span> arr=[{a:<span class="hljs-number">1</span>,b:<span class="hljs-number">2</span>},{a:<span class="hljs-number">3</span>,b:<span class="hljs-number">4</span>}]
<span class="hljs-keyword">var</span> newArr=<span class="hljs-built_in">Object</span>.assign([],arr)
<span class="hljs-comment">//截断数组</span>
newArr.length=<span class="hljs-number">1</span>
<span class="hljs-built_in">console</span>.log(newArr)<span class="hljs-comment">//[{a:1,b:2}]</span>
<span class="hljs-built_in">console</span>.log(arr)<span class="hljs-comment">//[{a:1,b:2},{a:3,b:4}]</span>
<span class="hljs-comment">//操作newArr，这里看着对arr没影响，实际上已经挖了一个坑，下面就跳进去</span>
newArr[<span class="hljs-number">0</span>].a=<span class="hljs-number">123</span>
<span class="hljs-comment">//修改newArr[0]这个对象，也是影响了arr[0]这个对象</span>
<span class="hljs-built_in">console</span>.log(arr[<span class="hljs-number">0</span>])<span class="hljs-comment">//{a: 123, b: 2}</span></code></pre>
<p>为什么会这样呢，因为Object.assign并不是深拷贝，是披着深拷贝外衣的浅拷贝。最多也是Object.assign会课拷贝第一层的值，对于第一层的值都是深拷贝，而到第二层的时候就是 复制引用。类似的情况还有，slice方法和concat方法等。<br>要解决这个问题，就得自己封装方法！如下</p>
<pre class="hljs javascript"><code><span class="hljs-comment">//利用递归来实现深拷贝，如果对象属性的值是引用类型（Array,Object），那么对该属性进行深拷贝，直到遍历到属性的值是基本类型为止。  </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepClone</span>(<span class="hljs-params">obj</span>)</span>{    
  <span class="hljs-keyword">if</span>(!obj&amp;&amp; <span class="hljs-keyword">typeof</span> obj!== <span class="hljs-string">'object'</span>){      
    <span class="hljs-keyword">return</span>;    
  }    
  <span class="hljs-keyword">var</span> newObj= obj.constructor === <span class="hljs-built_in">Array</span> ? [] : {};    
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> obj){       
    <span class="hljs-keyword">if</span>(obj[key]){          
      <span class="hljs-keyword">if</span>(obj[key] &amp;&amp; <span class="hljs-keyword">typeof</span> obj[key] === <span class="hljs-string">'object'</span>){  
        newObj[key] = obj[key].constructor === <span class="hljs-built_in">Array</span> ? [] : {}; 
        <span class="hljs-comment">//递归</span>
        newObj[key] = deepClone(obj[key]);          
      }<span class="hljs-keyword">else</span>{            
        newObj[key] = obj[key];         
      }       
    }    
  }    
  <span class="hljs-keyword">return</span> newObj; 
}
<span class="hljs-keyword">var</span> arr=[{<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">b</span>:<span class="hljs-number">2</span>},{<span class="hljs-attr">a</span>:<span class="hljs-number">3</span>,<span class="hljs-attr">b</span>:<span class="hljs-number">4</span>}]
<span class="hljs-keyword">var</span> newArr=deepClone(arr)
<span class="hljs-built_in">console</span>.log(arr[<span class="hljs-number">0</span>])<span class="hljs-comment">//{a:1,b:2}</span>
newArr[<span class="hljs-number">0</span>].a=<span class="hljs-number">123</span>
<span class="hljs-built_in">console</span>.log(arr[<span class="hljs-number">0</span>])<span class="hljs-comment">//{a:1,b:2}</span></code></pre>
<p>还有一个方法就是简单粗暴法，我现在在用的一个方法！原理很简单，就是先把对象转成字符串，再把字符串转成对象！也能实现同样效果</p>
<pre class="hljs typescript"><code><span class="hljs-keyword">var</span> newArr2=<span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">JSON</span>.stringify(arr));
<span class="hljs-built_in">console</span>.log(arr[<span class="hljs-number">0</span>])<span class="hljs-comment">//{a:1,b:2}</span>
newArr2[<span class="hljs-number">0</span>].a=<span class="hljs-number">123</span>
<span class="hljs-built_in">console</span>.log(arr[<span class="hljs-number">0</span>])<span class="hljs-comment">//{a:1,b:2}</span></code></pre>
<p>上面所说的浅拷贝，真假深拷贝（自己随性命名的），这几种情况，在开发上都有可能要用到，至于要使用哪一种方式，视情况而定！</p>
<h2 id="articleHeader6">4.使用事件委托</h2>
<p>一个简单的需求，比如想给ul下面的li加上点击事件，点击哪个li，就显示那个li的innerHTML。这个貌似很简单！代码如下！</p>
<pre class="hljs xml"><code><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"ul-test"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">var</span> oUl=<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"ul-test"</span>);
        <span class="hljs-keyword">var</span> oLi=oUl.getElementsByTagName(<span class="hljs-string">"li"</span>);
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,len=oLi.length;i&lt;len;i++){
            oLi[i].addEventListener(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
                alert(<span class="hljs-keyword">this</span>.innerHTML)
            })
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
<p>很简单，这样就实现了，实际上这里有坑，也待优化！<br>1.for循环，循环的是li，10个li就循环10次，绑定10次事件，100个就循环了100次，绑定100次事件！<br>2.如果li不是本来就在页面上的，是未来元素，是页面加载了，再通过js动态加载进来了，上面的写法是无效的，点击li是没有反应的！<br>所以就者需要用事件委托（即使不考虑上面的第二种情况，也是建议使用事件委托）！代码如下</p>
<pre class="hljs xml"><code><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"ul-test"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">var</span> oUl=<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"ul-test"</span>);
        oUl.addEventListener(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ev</span>)</span>{
            <span class="hljs-keyword">var</span> ev=ev||<span class="hljs-built_in">window</span>.event;
            <span class="hljs-keyword">var</span> target=ev.target||ev.srcElement;
            <span class="hljs-comment">//如果点击的最底层是li元素</span>
            <span class="hljs-keyword">if</span>(target.tagName.toLowerCase()===<span class="hljs-string">'li'</span>){
                alert(target.innerHTML)
            }
        })
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>这样写，即使是动态添加进来的li点击也有反应，还有一个就是ul只有一个，事件绑定在ul上，无论li多少个，都是添加一次事件！但是也是可能会有问题，如果li下面还有子元素，那么点击的时候，target可能不是li，而是鼠标点击那个位置的最底层元素！如下图，如果鼠标点击白色区域，那个target就是body元素,鼠标点击绿色区域target就是div元素，鼠标点击蓝色区域target就是ul，点击橙色就是li。</p>
<p><span class="img-wrap"><img data-src="/img/bVTnVv?w=397&amp;h=398" src="assets/1553572215-9b5ef6d4639fee039eef967a1423383e" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<h2 id="articleHeader7">5.使用对象作为函数参数</h2>
<p>大家试想下这样一个函数--函数接受几个参数，但是这几个参数都不是必填的，函数该怎么处理？是不是下面这样</p>
<pre class="hljs actionscript"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personInfo</span><span class="hljs-params">(name,phone,card)</span></span>{
    ...
}
<span class="hljs-comment">//以上函数，可以任意传参数。比如我想传card等于1472586326。这下是不是这样写</span>
personInfo(<span class="hljs-string">''</span>,<span class="hljs-string">''</span>,<span class="hljs-string">'1472586326'</span>)</code></pre>
<p>有没有觉得上面写法奇怪，不太优雅？下面这里看着舒服一点！</p>
<pre class="hljs actionscript"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personInfo</span><span class="hljs-params">(opt)</span></span>{
    ...
}
personInfo({card:<span class="hljs-string">'1472586326'</span>})</code></pre>
<p>再想一下，如果一个函数，参数很多，怎么处理？</p>
<pre class="hljs actionscript"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span><span class="hljs-params">(arg1,arg2,arg3,arg4,arg5,arg6,arg7)</span></span>{
    ...
}</code></pre>
<p>密集恐惧症复发没有复发？下面这样看着会舒服一点！</p>
<pre class="hljs actionscript"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personInfo</span><span class="hljs-params">(opt)</span></span>{
    ...
}</code></pre>
<p>最后再想一下，如果需求改了，操作函数也要改！函数也要增加一个参数。</p>
<pre class="hljs actionscript"><code><span class="hljs-comment">//原来函数</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personInfo</span><span class="hljs-params">(name,phone,card)</span></span>{
    ...
}
<span class="hljs-comment">//修改后</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personInfo</span><span class="hljs-params">(name,age,phone,card)</span></span>{
    ...
}</code></pre>
<p>这样就是参数修改一次，函数的参数就要修改一次！如果是用对象，就不会出现这样问题！</p>
<pre class="hljs actionscript"><code><span class="hljs-comment">//修改前后都是这样，变得是函数的操作内容和调用时候的传参！</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personInfo</span><span class="hljs-params">(opt)</span></span>{
    ...
}</code></pre>
<p>看了上面的几个栗子，总结来说，就是当函数的参数不固定的时候，参数多(三个或者三个以上)的时候，建议用一个对象记录参数，这样会比较方便，也为以后如果参数要改留了条后路！</p>
<h2 id="articleHeader8">6.使用push和apply合并数组</h2>
<p>合并数组这个已经是老生常谈的话题了，方法也是多种多样！</p>
<h3 id="articleHeader9">concat</h3>
<pre class="hljs typescript"><code><span class="hljs-keyword">var</span> arr1=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],arr2=[<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>];
arr1=arr1.concat(arr2)
<span class="hljs-built_in">console</span>.log(arr1)<span class="hljs-comment">//[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></code></pre>
<p>concat会一个全新的数组，表示arr1和arr2两个数组的组合，并让arr1和arr2不变。简单吧？<br>但如果arr1和arr2的长度都很长，那就产生了一个很长很长的数组，内存又被占用了那么多。但是数组长度没限制！</p>
<h3 id="articleHeader10">for</h3>
<pre class="hljs go"><code><span class="hljs-keyword">var</span> arr1=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],arr2=[<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>];
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,<span class="hljs-built_in">len</span>=arr2.length;i&lt;<span class="hljs-built_in">len</span>;i++){
    arr1.push(arr2[i])
}
console.log(arr1)<span class="hljs-comment">//[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></code></pre>
<p>这里是往arr1循环添加arr2的元素，但是有一个情况，arr1的长度远小于arr2的长度，是不是循环arr1性能更好，循环次数更少。处理这个很简单，但是万一不知道arr1和arr2到底哪个长度更少呢？而且，for循环不够优雅！（当然，这个可以用迭代方法来替代）</p>
<h3 id="articleHeader11">reduce</h3>
<pre class="hljs javascript"><code><span class="hljs-keyword">var</span> arr1=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],arr2=[<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>];
arr1 = arr2.reduce( <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">coll,item</span>)</span>{
     coll.push( item );
     <span class="hljs-keyword">return</span> coll;
 }, arr1 );
 <span class="hljs-built_in">console</span>.log(arr1)<span class="hljs-comment">//[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></code></pre>
<p>逼格高了一点，而且用ES6的箭头函数还可以减少一些代码量，但它仍然需要一个函数，每个元素都需要调用一次。</p>
<h3 id="articleHeader12">push.apply</h3>
<pre class="hljs typescript"><code><span class="hljs-keyword">var</span> arr1=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],arr2=[<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>];
arr1.push.apply(arr1,arr2);
<span class="hljs-built_in">console</span>.log(arr1)<span class="hljs-comment">//[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</code></pre>
<p>逼格看着高，代码少，也不会产生新的数组，也不难理解，就是调用<code>arr1.push</code>这个函数实例的<code>apply</code>方法，同时把<code>arr2</code>当作参数传入，这样<code>arr1.push</code>这个方法就会遍历<code>arr2</code>数组的所有元素，达到合并的效果。相当于<code>arr1.push.apply(arr1,[6,7,8,9,10]);</code>，最后相当于<code>arr1.push(6,7,8,9,10)</code>。遗憾的就是，这个方法对数组长度有限制，网上说法是不同浏览器，不同的长度限制，一般不超过10万！</p>
<p>之前是建议用push.apply，但是现在保留意见，就是大家觉得哪个方式用哪个方式！这个没有一定的对错！</p>
<h2 id="articleHeader13">7.toFixed保留整数</h2>
<p>在开发上，经常会遇到最多保留多少位小数或者类似的问题，针对这个，使用toFixed可以很简单的解决问题，但是如果数据是要和后台交互的，而且后台存储的数据一般是保存数字类型，而使用toFixed后生成的是一个字符串，这下，就需要把toFixed生成的是一个字符串转成数字类型，转发很多。今天我说一个最简单--+。代码如下</p>
<pre class="hljs typescript"><code><span class="hljs-keyword">var</span> a=<span class="hljs-number">123.36896335</span>.toFixed(<span class="hljs-number">2</span>)
<span class="hljs-built_in">console</span>.log(a)<span class="hljs-comment">//'123.37'</span>
a=+a
<span class="hljs-built_in">console</span>.log(a)<span class="hljs-comment">//123.37</span></code></pre>
<p>PS：a=a|0和~~a也可以实现，但是生成的是一个整数，如下</p>
<pre class="hljs typescript"><code><span class="hljs-keyword">var</span> a=<span class="hljs-number">123.36896335</span>.toFixed(<span class="hljs-number">2</span>)
<span class="hljs-built_in">console</span>.log(a)<span class="hljs-comment">//'123.37'</span>
a=a|<span class="hljs-number">0</span>  
<span class="hljs-built_in">console</span>.log(a)<span class="hljs-comment">//123 </span>
<span class="hljs-comment">//---------------------------------分割线</span>
<span class="hljs-keyword">var</span> a=<span class="hljs-number">123.36896335</span>.toFixed(<span class="hljs-number">2</span>)
<span class="hljs-built_in">console</span>.log(a)<span class="hljs-comment">//'123.37'</span>
a=~~a  
<span class="hljs-built_in">console</span>.log(a)<span class="hljs-comment">//123        </span>
</code></pre>
<h2 id="articleHeader14">8.其它类型数据转布尔数据</h2>
<p>下面的转换，大家一看就明白了，不多说。</p>
<pre class="hljs typescript"><code><span class="hljs-built_in">console</span>.log(!!<span class="hljs-string">'123'</span>)
<span class="hljs-comment">//true</span>
!!<span class="hljs-number">12</span>
<span class="hljs-comment">//true</span>
!!<span class="hljs-number">-1</span>
<span class="hljs-comment">//true</span>
!![]
<span class="hljs-comment">//true</span>
!!<span class="hljs-string">''</span>
<span class="hljs-comment">//false</span>
!!<span class="hljs-literal">null</span>
<span class="hljs-comment">//false</span></code></pre>
<h2 id="articleHeader15">9.缓存变量</h2>
<h3 id="articleHeader16">for循环缓存length</h3>
<pre class="hljs go"><code><span class="hljs-keyword">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,i&lt;arr.length;i++){
    ...
}
<span class="hljs-comment">//------------------------分割线</span>
<span class="hljs-keyword">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,<span class="hljs-built_in">len</span>=arr.length;i&lt;<span class="hljs-built_in">len</span>;i++){
    ...
}</code></pre>
<p>第一段就是每一次循环的时候，都要查询一次arr.length。第二段代码就是缓存了arr.length，每次对比len就好，理论上是第二段代码的写法比较好，性能比较高！但是随着浏览器的发展，这个细节的性能上的影响貌似远远小于预期，现在还是建议缓存！我写了下面的测试用例(谷歌浏览器测试)！</p>
<pre class="hljs javascript"><code><span class="hljs-keyword">var</span> arr100=[], arr10000=[];
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">100</span>;i++){
    arr100.push(i)
}
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10000</span>;i++){
    arr10000.push(i)
}
<span class="hljs-comment">//缓存情况</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testCache</span>(<span class="hljs-params">arr</span>)</span>{
    <span class="hljs-built_in">console</span>.time();
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,len=arr.length;i&lt;len;i++){
        
    }
    <span class="hljs-built_in">console</span>.timeEnd()
}
<span class="hljs-comment">//不缓存情况</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testNoCache</span>(<span class="hljs-params">arr</span>)</span>{
    <span class="hljs-built_in">console</span>.time();
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,len=arr.length;i&lt;len;i++){
        
    }
    <span class="hljs-built_in">console</span>.timeEnd()
}
testCache(arr100)<span class="hljs-comment">//default: 0.007ms</span>
testCache(arr10000)<span class="hljs-comment">//default: 0.035ms</span>
testNoCache(arr100)<span class="hljs-comment">//default: 0.012ms</span>
testNoCache(arr10000)<span class="hljs-comment">//default: 0.109ms</span>
<span class="hljs-comment">//这只是一个最简单的数组，如果遍历的是一个nodeList（元素列表），效果可能会更明显。</span>
</code></pre>
<h3 id="articleHeader17">元素事件</h3>
<p>这里我用jquery来讲解，比较容易理解，原生js也是这个道理！如下代码</p>
<pre class="hljs javascript"><code>$(<span class="hljs-string">'.div1'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
   ...
})
<span class="hljs-comment">//--------------------------分割线   </span>
<span class="hljs-keyword">var</span> $div1=$(<span class="hljs-string">'.div1'</span>);
$div1.click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
   ...
})</code></pre>
<p>上面的代码，改变的也是缓存了$('.div1')，但是这里就建议是第二种写法了，因为第一种点击一次就要查询一次.div1，Dom的操作还是能减少就减少！</p>
<h2 id="articleHeader18">10.使用innerHTML添加元素</h2>
<p>比如有一个需求，往<code>ul</code>里面添加10个<code>li</code>，两种方法，如下代码</p>
<pre class="hljs xml"><code><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"ul-test"</span>&gt;</span>
            
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">var</span> oUl=<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"ul-test"</span>);
        <span class="hljs-comment">//createElement方式</span>
        <span class="hljs-built_in">console</span>.time();
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++){
            <span class="hljs-keyword">var</span> oLi=<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'li'</span>);
            oLi.innerHTML=i;
            oUl.appendChild(oLi);
        }
        <span class="hljs-built_in">console</span>.timeEnd();
        <span class="hljs-comment">//innerHTML方式</span>
        <span class="hljs-built_in">console</span>.time();
        <span class="hljs-keyword">var</span> _html=<span class="hljs-string">''</span>;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++){
            _html+=<span class="hljs-string">'&lt;li&gt;'</span>+i+<span class="hljs-string">'&lt;/li&gt;'</span>
        }
        oUl.innerHTML=_html;
        <span class="hljs-built_in">console</span>.timeEnd();
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>大家把代码用浏览器打开，发现基本是第二种方式更快，第8点也说了，DOM操作能少就少！第一种要操作10次DOM，第二种只需要操作1次DOM。还有一个就是，这个只是很简单的li,如果是下面的列表呢？用第一种方式，得createElement多少次，innerHTML多少次，appendChild多少次？代码多，各个节点的逻辑和嵌套关系也乱！用第二种方式就是一个拼接字符串的操作，比第一种方式好多了，如果用es6的模板字符串，就更简单了！</p>
<p><span class="img-wrap"><img data-src="/img/bVTNyN?w=370&amp;h=398" src="assets/1553572215-7da0dbff7f8c290afed101d2d089e12b" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<h2 id="articleHeader19">11.将参数转成数组</h2>
<p>函数里的arguments，虽然拥有length属性，但是arguments不是一个数组，是一个类数组，没有push,slice等方法。有些时候，需要把arguments转成数组，转的方法也不止一个，推荐的是是下面的写法！</p>
<pre class="hljs typescript"><code><span class="hljs-keyword">var</span> _arguments=<span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>)
</code></pre>
<h2 id="articleHeader20">12.函数节流</h2>
<p>这里拿一个栗子说，比如mousemove,onscroll,onresize这些事件触发的时候，可能已经触发了60次事件，这样很消耗性能，而且实际上，我们并不需要这么频繁的触发，只要大约100毫秒触发一次就好！那么这样就需要函数节流了！</p>
<p>普通写法</p>
<pre class="hljs javascript"><code><span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">beginCount</span>(<span class="hljs-params"></span>) </span>{
    count++;
    <span class="hljs-built_in">console</span>.log(count);
}
<span class="hljs-built_in">document</span>.onmousemove = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
   beginCount();
};</code></pre>
<p>效果</p>
<p><span class="img-wrap"><img data-src="/img/bVUrnE?w=873&amp;h=650" src="assets/1553572215-ee94960d15799e030e7ae918f8544824" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<p>节流写法</p>
<pre class="hljs javascript"><code><span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">beginCount</span>(<span class="hljs-params"></span>) </span>{
    count++;
    <span class="hljs-built_in">console</span>.log(count);
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delayFn</span>(<span class="hljs-params">method, thisArg</span>) </span>{
    clearTimeout(method.props);
    method.props = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        method.call(thisArg)
    },<span class="hljs-number">100</span>)
}
<span class="hljs-built_in">document</span>.onmousemove = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    delayFn(beginCount)
};
</code></pre>
<p>效果</p>
<p><span class="img-wrap"><img data-src="/img/bVUrnD?w=873&amp;h=650" src="assets/1553572215-253bbf7458597af1c3d17c8361edc545" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<p>这种方式，其实是有问题的，在不断触发停下来等待100ms才开始执行，中间操作得太快直接无视。于是在网上找到下面这种方案！</p>
<p>第二种节流写法</p>
<pre class="hljs javascript"><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delayFn2</span> (<span class="hljs-params">fn, delay, mustDelay</span>)</span>{
     <span class="hljs-keyword">var</span> timer = <span class="hljs-literal">null</span>;
     <span class="hljs-keyword">var</span> t_start;
     <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
         <span class="hljs-keyword">var</span> context = <span class="hljs-keyword">this</span>, args = <span class="hljs-built_in">arguments</span>, t_cur = +<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
         <span class="hljs-comment">//先清理上一次的调用触发（上一次调用触发事件不执行）</span>
         clearTimeout(timer);
         <span class="hljs-comment">//如果不存触发时间，那么当前的时间就是触发时间</span>
         <span class="hljs-keyword">if</span>(!t_start){
             t_start = t_cur;
         }
         <span class="hljs-comment">//如果当前时间-触发时间大于最大的间隔时间（mustDelay），触发一次函数运行函数</span>
         <span class="hljs-keyword">if</span>(t_cur - t_start &gt;= mustDelay){
             fn.apply(context, args);
             t_start = t_cur;
         }
         <span class="hljs-comment">//否则延迟执行</span>
         <span class="hljs-keyword">else</span> {
             timer = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
                 fn.apply(context, args);
             }, delay);
         }
     };
}
<span class="hljs-keyword">var</span> count=<span class="hljs-number">0</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn1</span>(<span class="hljs-params"></span>)</span>{
    count++;
    <span class="hljs-built_in">console</span>.log(count)
} 
<span class="hljs-comment">//100ms内连续触发的调用，后一个调用会把前一个调用的等待处理掉，但每隔200ms至少执行一次</span>
<span class="hljs-built_in">document</span>.onmousemove=delayFn2(fn1,<span class="hljs-number">100</span>,<span class="hljs-number">200</span>)</code></pre>
<p><span class="img-wrap"><img data-src="/img/bVUrtz?w=873&amp;h=650" src="assets/1553572215-7935bb9d8fe511d0879517bddb266ade" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>
<blockquote>我现在函数节流用得很少，这两个写法是比较基础的，希望大家能共享下自己的比较好的方法！</blockquote>
<h2 id="articleHeader21">13.其他写作建议</h2>
<p>关于其它的一些写法技巧和建议，都是比较老生常谈的，比如命名规范，函数单一性原则等。这一部分内容我自己总结和别人写的基本一致！我就不展开说了（感觉展开说也基本是复制粘贴别人的文章，这事我不干），所以我推荐大家去看这篇文章（<a href="https://zhuanlan.zhihu.com/p/28910636" rel="nofollow noreferrer" target="_blank">如何优雅的编写 JavaScript 代码</a>）。有些知识我也是从这里获得的！</p>
<h2 id="articleHeader22">14.小结</h2>
<p>好了，关于我自己总结的一些实用技巧和建议，就到这里了！关于javascript的技巧和建议，这点大家还是要多看网上的资源，也要自己多总结，毕竟我自己总结的只是我自己发现的，只是冰山一角。但还是希望这篇文章能帮到大家，让大家学习到知识。当然，更希望的是能起到一个交流意见的作用。如果大家有什么建议，技巧。也欢迎分享。觉得我哪里写错了，写得不够好，也欢迎指出！让大家一起互相帮助，互相学习！</p>
<p>-------------------------华丽的分割线--------------------<br>想了解更多，关注关注我的微信公众号：守候书阁</p>
<p><span class="img-wrap"><img data-src="/img/bV1Cv6?w=258&amp;h=258" src="assets/1553572215-cc251e36780853b283c619ba8e3b0590" alt="clipboard.png" title="clipboard.png" style="cursor: pointer; display: inline;"></span></p>

                </div>
                                                
                <div class="clearfix mt10">
                    <ul class="article-operation list-inline pull-left mt15"><li><a target="_blank" href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img class="mb5" src="assets/1553572215-f34a74adc5c037a50738f95ba4954abd.svg" height="20"></a></li><li class="dropdown js__content-ops hidden-xs" data-module="article" data-id="1190000011031658" data-typetext="文章"><a href="javascript:void(0);" class="dropdown-toggle text-muted" data-toggle="dropdown"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a></li></ul>
                    <div class="pull-right mt-10 hidden-xs">
                        <div class="widget-share__full" data-text="个人小结--javascript实用技巧和写法建议" data-url="https://segmentfault.com/a/1190000011031658?share_user=1030000009484911" data-shorturl="http://sfau.lt/b5UrZ8"><div class="widget-share-network sharer-0" style="display: block;"><ul class="sn-inline"><li data-network="weibo"><a href="javascript:void(0);" class="entypo-weibo icon-sn-weibo share-1" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至新浪微博">新浪微博</a></li><li data-network="wechart"><a href="javascript:void(0);" class="entypo-wechart icon-sn-weixin share-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至微信">微信</a></li><li data-network="twitter"><a href="javascript:void(0);" class="entypo-twitter icon-sn-twitter share-3" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至 Twitter">Twitter</a></li><li data-network="facebook"><a href="javascript:void(0);" class="entypo-facebook icon-sn-facebook share-4" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至 Facebook">Facebook</a></li></ul></div><a type="button" class="btn btn-sm shareMore btn-sn-more" data-toggle="popover" data-placement="top" data-url="https://segmentfault.com/a/1190000011031658?share_user=1030000009484911" data-shorturl="http://sfau.lt/b5UrZ8"><span class="icon-sn-dotted" data-original-title="" title=""></span></a></div>


                    </div>
                </div>
                <div class="mt10 text-center mb30"><button type="button" id="mainLike" data-id="1190000011031658" class="btn btn-success btn-lg mr15 "><span id="mainLikeText">赞</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;
                                <span id="mainLikeNum">67 </span></button><button type="button" id="mainBookmark" data-type="article" data-id="1190000011031658" class="btn btn-default btn-lg  active"><span id="mainBookmarkText">已收藏</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;<span id="mainBookmarkNum">385</span></button></div>                
                                

                <h4 class="pt20 mb15 mt0 border-top">你可能感兴趣的</h4>

                
                <div class="mb15 block">
                    
                </div>

                                <div id="paradigm-article-related"><div class="recommend-post mb30"><ul class="widget-links"><li><a href="http://segmentfault.com/a/1190000012075674" title="深浅拷贝" target="_blank">深浅拷贝</a><span class="text-muted">刘菁</span><a class="tag" taget="_blank" href="https://segmentfault.com/t/javascript">javascript</a></li><li><a href="http://segmentfault.com/a/1190000015924675" title="JavaScript：利用递归实现对象深拷贝" target="_blank">JavaScript：利用递归实现对象深拷贝</a><span class="text-muted">XvJX</span><a class="tag" taget="_blank" href="https://segmentfault.com/t/javascript">javascript</a><a class="tag" taget="_blank" href="https://segmentfault.com/t/node.js">node.js</a></li><li><a href="http://segmentfault.com/a/1190000013088622" title="javascript之深浅拷贝" target="_blank">javascript之深浅拷贝</a><span class="text-muted">阿紫</span><a class="tag" taget="_blank" href="https://segmentfault.com/t/javascript">javascript</a></li><li><a href="http://segmentfault.com/a/1190000014107100" title="javascript对象的浅拷贝、深拷贝和Object.assign方法浅析" target="_blank">javascript对象的浅拷贝、深拷贝和Object.assign方法浅析</a><span class="text-muted">侯贝贝</span><a class="tag" taget="_blank" href="https://segmentfault.com/t/javascript">javascript</a></li><li><a href="http://segmentfault.com/a/1190000016149265" title="JavaScript中的深浅拷贝" target="_blank">JavaScript中的深浅拷贝</a><span class="text-muted">hu970804</span><a class="tag" taget="_blank" href="https://segmentfault.com/t/javascript">javascript</a></li><li><a href="http://segmentfault.com/a/1190000011816549" title="JavaScript基础心法——深浅拷贝" target="_blank">JavaScript基础心法——深浅拷贝</a><span class="text-muted">axuebin</span><a class="tag" taget="_blank" href="https://segmentfault.com/t/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">数据类型</a><a class="tag" taget="_blank" href="https://segmentfault.com/t/es6">es6</a><a class="tag" taget="_blank" href="https://segmentfault.com/t/%E5%A4%8D%E5%88%B6">复制</a><a class="tag" taget="_blank" href="https://segmentfault.com/t/javascript">javascript</a></li><li><a href="http://segmentfault.com/a/1190000013469837" title="Js之浅拷贝深拷贝与对象数组的遍历" target="_blank">Js之浅拷贝深拷贝与对象数组的遍历</a><span class="text-muted">张小草1018</span><a class="tag" taget="_blank" href="https://segmentfault.com/t/javascript">javascript</a></li><li><a href="http://segmentfault.com/a/1190000009678995" title="20170606-浅拷贝与深拷贝" target="_blank">20170606-浅拷贝与深拷贝</a><span class="text-muted">jhhfft</span><a class="tag" taget="_blank" href="https://segmentfault.com/t/javascript">javascript</a></li></ul></div></div>

                
        <div class="comments--news comments--default comments--article 
    " data-id="1190000011031658" data-user-id="1030000009484911" data-author-id="1030000009764821 " data-is-admin="false" id="goToReplyArea">
                    <div class="mb10 clearfix">
                <strong class="comments-stat pull-left mr10">24 条评论</strong>

                                                    <div class="btn-group btn-group-xs pull-right comments-sort btn-group-menu" role="menu">
                        <a href="javascript:;" class="btn btn-default active" data-sort="default">默认排序</a>
                        <a href="javascript:;" class="btn btn-default" data-sort="desc">时间排序</a>
                    </div>
                            </div>
                <div class="comments-container">
                                <div class="comments-list">
                <div class="comments-item" data-id="1050000011033179">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/fengzhazha" target="_blank"><img class="avatar-32 " src="assets/1553572215-02f3a8501cc3cda2fcd3970e7a8ce26d.png" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    
                    <strong><a target="_blank" href="https://segmentfault.com/u/fengzhazha">冯渣渣</a></strong>
                    
                    <span class="comments-date">  ·  2017年09月06日</span>
                </div>

                <div class="fmt mb10"><p>关于深浅拷贝那边提到的开辟新的“栈”。请问这个栈是什么？难道不是heap吗？</p></div>

                <form action="/api/comment/1050000011033179/edit">
                    <div class="form-group">
                        
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value">+3</span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000011033810">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value 
                                         islike0-10
                                        ">
                                        1
                                    </span>
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>我不太确定有没有用错名词，意思就是在内存里面另开一块‘区域’，就是不让两个对象公用一块区域！</p></div>
                                <form action="/api/comment/1050000011033810/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/chen93">
                                            <strong>守候</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  2017年09月06日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                        <div class="reply-item" data-id="1050000011049192">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value 
                                         islike0-10
                                        ">
                                        2
                                    </span>
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>@守候 根据图的话是不是应该说新开辟一个堆啊？</p></div>
                                <form action="/api/comment/1050000011049192/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/jiaoyfdetebieduo">
                                            <strong>叫yf的特别多</strong>
                                        </a> 
                                         
                                        <span class="text-muted-plus">  ·  2017年09月07日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                        <div class="reply-item" data-id="1050000011050953">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>@守候 假-深拷贝的log输出内容有笔误</p></div>
                                <form action="/api/comment/1050000011050953/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/hankins_pan">
                                            <strong>hankins_pan</strong>
                                        </a> 
                                         
                                        <span class="text-muted-plus">  ·  2017年09月07日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                                                <span class="reply-more"><span class="text-muted-plus-plus mr5 ml5">|</span>
                        <a class="reply-more-btn" href="javascript:;">显示更多</a></span>
                        
                    </div>
                </div>


            </div>
        </div>
                <div class="comments-item" data-id="1050000011052515">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/hankins_pan" target="_blank"><img class="avatar-32 " src="assets/1553572215-07fbc38e545bface0a2a8325f8548a52" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    
                    <strong><a target="_blank" href="https://segmentfault.com/u/hankins_pan">hankins_pan</a></strong>
                    
                    <span class="comments-date">  ·  2017年09月07日</span>
                </div>

                <div class="fmt mb10"><p>博主写的真不错，很细致很清晰。有条有理，对于我这种初学者有很大帮助，多谢博主分享~?</p></div>

                <form action="/api/comment/1050000011052515/edit">
                    <div class="form-group">
                        
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value">+3</span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    
                </p>

                


            </div>
        </div>
                <div class="comments-item" data-id="1050000011050594">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/xinshitoumingde" target="_blank"><img class="avatar-32 " src="assets/1553572215-02f3a8501cc3cda2fcd3970e7a8ce26d.png" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    
                    <strong><a target="_blank" href="https://segmentfault.com/u/xinshitoumingde">心是透明的</a></strong>
                    
                    <span class="comments-date">  ·  2017年09月07日</span>
                </div>

                <div class="fmt mb10"><p>缓存数组length那里代码有错误。不过缓存length都是老生长谈的问题了，甚至有些人还得出结论说，某些情况下缓存length还慢。你可以把循环1亿次试下。</p></div>

                <form action="/api/comment/1050000011050594/edit">
                    <div class="form-group">
                        
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value">+2</span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000011051657">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>缓存length没什么用吧，我试了一下，数组越大，使用缓存就越慢</p></div>
                                <form action="/api/comment/1050000011051657/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/hubugui">
                                            <strong>胡不归</strong>
                                        </a> 
                                         
                                        <span class="text-muted-plus">  ·  2017年09月07日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                        <div class="reply-item" data-id="1050000011052295">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value 
                                         islike0-10
                                        ">
                                        1
                                    </span>
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>错误那个改了，多谢提醒。另外，这个我只是建议大家这样做，那个方式好，现在也没有定论，看大家习惯吧！文章我也说了，缓存和不缓存，差距远远小于预期！</p></div>
                                <form action="/api/comment/1050000011052295/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/chen93">
                                            <strong>守候</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  2017年09月07日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
                <div class="comments-item" data-id="1050000011085292">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/kiranliu" target="_blank"><img class="avatar-32 " src="assets/1553572215-c43076585a844680d6306c1bc4d7327b" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    
                    <strong><a target="_blank" href="https://segmentfault.com/u/kiranliu">KiranLIU</a></strong>
                    
                    <span class="comments-date">  ·  2017年09月08日</span>
                </div>

                <div class="fmt mb10"><p>请问楼主contact是什么意思啊，是不是指的concat ? ? ? ?</p></div>

                <form action="/api/comment/1050000011085292/edit">
                    <div class="form-group">
                        
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value">+2</span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000011085582">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>对，是concat.打错了</p></div>
                                <form action="/api/comment/1050000011085582/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/chen93">
                                            <strong>守候</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  2017年09月09日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                        <div class="reply-item" data-id="1050000011085872">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>@守候 ok</p></div>
                                <form action="/api/comment/1050000011085872/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/kiranliu">
                                            <strong>KiranLIU</strong>
                                        </a> 
                                         
                                        <span class="text-muted-plus">  ·  2017年09月09日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
                <div class="comments-item" data-id="1050000011051667">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/hubugui" target="_blank"><img class="avatar-32 " src="assets/1553572215-da27cb70b83080df0f4fa945b4cdbbd0" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    
                    <strong><a target="_blank" href="https://segmentfault.com/u/hubugui">胡不归</a></strong>
                    
                    <span class="comments-date">  ·  2017年09月07日</span>
                </div>

                <div class="fmt mb10"><p>代码都不运行就拿过来给大家看，这不是误导吗</p></div>

                <form action="/api/comment/1050000011051667/edit">
                    <div class="form-group">
                        
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value">+1</span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000011052255">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value 
                                         islike0-10
                                        ">
                                        1
                                    </span>
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>代码我都运行了才发上来的，如果我只贴代码的话，这一篇文章就不需要写6个小时了。错误也是难免的！</p></div>
                                <form action="/api/comment/1050000011052255/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/chen93">
                                            <strong>守候</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  2017年09月07日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                        <div class="reply-item" data-id="1050000011055140">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value 
                                         islike0-10
                                        ">
                                        1
                                    </span>
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content">
<p><a href="https://segmentfault.com/u/chen93">@守候</a> 数组长度缓存那个问题，差距确实很小，几乎忽略不计，然后对于使用<code>push.apply()</code>可以节省内存的情况，那个是错误的，你可以运行一下这个代码：</p>
<pre><code>var a = new Array(10000000)
var b = new Array(10000000)
var c = a.concat(b) // 正常
var d = Array.prototype.push.apply(a,b) // 内存溢出</code></pre>
</div>
                                <form action="/api/comment/1050000011055140/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/hubugui">
                                            <strong>胡不归</strong>
                                        </a> 
                                         
                                        <span class="text-muted-plus">  ·  2017年09月07日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                        <div class="reply-item" data-id="1050000011055827">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value 
                                         islike0-10
                                        ">
                                        1
                                    </span>
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p><a href="https://segmentfault.com/u/hubugui">@胡不归</a> 这个是我不严谨，因为我当时测试的时候没测这么大的数据，都是测1000左右的！当时用concat就想到，这个会产生一个新数组，所以平常开发或者在文章，就没有不建议使用！</p></div>
                                <form action="/api/comment/1050000011055827/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/chen93">
                                            <strong>守候</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  2017年09月07日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                                                <span class="reply-more"><span class="text-muted-plus-plus mr5 ml5">|</span>
                        <a class="reply-more-btn" href="javascript:;">显示更多</a></span>
                        
                    </div>
                </div>


            </div>
        </div>
                <div class="comments-item" data-id="1050000011070633">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/sailing_5978b26702f9a" target="_blank"><img class="avatar-32 " src="assets/1553572215-f276e6b56ec6c833231ebe5f547781d1" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    
                    <strong><a target="_blank" href="https://segmentfault.com/u/sailing_5978b26702f9a">Sailing</a></strong>
                    
                    <span class="comments-date">  ·  2017年09月08日</span>
                </div>

                <div class="fmt mb10"><p>假-深拷贝 中的例子感觉用的不太对，也可能是我理解的有问题：<br>var myInfo = {name: '守候', sex: '男'};<br>var newInfo = Object.assign({}, myInfo);<br>newInfo.sex = '女';<br>console.log(myInfo);   //{name: "守候", sex: "男"}<br>console.log(newInfo);   //{name: "守候", sex: "女"}<br>所说的 假-深拷贝 === 浅拷贝？'源对象myInfo属性改变会影响目标对象newInfo' : ''; 那你所举的例子竟然没有改变目标对象。换成如下的例子会不会好点：<br>var myInfo = {name: '守候', sex: '男', adress: {school: '山东大学'}};<br>var newInfo = Object.assign({}, myInfo);<br>newInfo.adress.school = '山东理工';<br>console.log(myInfo);   //{name: "守候", sex: "男", adress: {school: "山东理工"}}<br>console.log(newInfo);   //{name: "守候", sex: "男", adress: {school: "山东理工"}}</p></div>

                <form action="/api/comment/1050000011070633/edit">
                    <div class="form-group">
                        
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value">+1</span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000011070912">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>下文那里有说，就是假-深拷贝相当于只有第一层是深拷贝，第二层和以下的都是浅拷贝</p></div>
                                <form action="/api/comment/1050000011070912/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/chen93">
                                            <strong>守候</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  2017年09月08日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
                <div class="comments-item" data-id="1050000011146576">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/hanzichi" target="_blank"><img class="avatar-32 " src="assets/1553572215-78db2516fceee145e570ab151439ae96" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    
                    <strong><a target="_blank" href="https://segmentfault.com/u/hanzichi">fish</a></strong>
                    
                    <span class="comments-date">  ·  2017年09月13日</span>
                </div>

                <div class="fmt mb10"><p>既然第一个就用了 ES6，什么数组合并，arguments 转数组，都用 ES6 好了呀</p></div>

                <form action="/api/comment/1050000011146576/edit">
                    <div class="form-group">
                        
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value"></span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000011146782">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    
                                    
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p>第一个只是一个更短写法。其他的用es6也可以，我用es5是为了写文章更容易读懂和一个习惯问题</p></div>
                                <form action="/api/comment/1050000011146782/edit">
                                    <div class="form-group">
                                        
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/chen93">
                                            <strong>守候</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  2017年09月13日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
            </div>
    
        
    

                                    <div class="comments-box" id="goToReplyEditor">
                <div class="pull-left">
                    <img class="avatar-32 " src="assets/1553572215-02f3a8501cc3cda2fcd3970e7a8ce26d.png" alt="">
                </div>
                <div class="comments-box-content">
                    <form action="/api/article/1190000011031658/comments/add">
                        <div class="form-group mb0">
                            <textarea name="text" rows="3" class="form-control" placeholder="文明社会，理性评论"></textarea>
                            <div class="mt15 text-right">
                                
                                <button class=" btn btn-primary" type="button">发布评论</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
                                                        </div>
    </div>


                
                

            </div><!-- /.main -->


            <!-- /.side -->
        </div>
    </div></DIV>
      
        <hr />
        <!-- clipping information -->
        <div class="clipping-information">
          <label>原网址: <a href="https://segmentfault.com/a/1190000011031658" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">访问</a></label><br />
          <label>创建于: 2019-03-26 11:50:15</label><br />
          <label>目录: default</label><br />
          <label>标签: 无</label>
        </div>
    </div>
  </body>
</html>